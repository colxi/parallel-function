<!DOCTYPE html>
<html>
<head>
    <title></title>
    <script src="parallel-function.js"></script>
    <script>
        console.log('Declaring window.calculatePi()...');
        // calculate Pi, with n number of decimals
        let calculatePi = new ParallelFunction( (n)=>{
            var v = 0;
            for(i = 1; i <= n; i += 4)  v +=  1 / i - 1 / (i + 2);
            return 4 * v;
        });
        console.log('Ready: window.calculatePi()');
        console.log('Async calling: window.calculatePi()');

        calculatePi(1000000000).then( r => console.log('Result :',r) );
        console.log('Async calling done!');
        console.log('Waiting for result...');
    </script>
</head>
<body>
</body>
</html>
